---
title: "アプリケーションの負荷試験"
---

ユーザーが、アプリケーションの応答速度が遅い、「キュー時間」が長かった、などの問題に気づき、原因を問い合わせることがあります。このような現象は、アプリケーションの構成やプログラムコードに強く依存していますが、プラットフォームで取得しているメトリクスはコンテナ単位で粒度が大きすぎるため、テクニカルサポートから原因を回答することはできません。それでも、可能な場合には該当の時間帯にどのリソースがボトルネックになっていたのか推定して、今後のため、[New Relic](https://newrelic.com/) APMや[Scout APM](https://www.scoutapm.com/)などのアプリケーション監視サービスの利用や[OpenTelmetry](https://opentelemetry.io/)の組み込みを勧めます。

このように、PaaSのテクニカルサポートエンジニアとしてアプリケーションの応答速度の問題について原因を回答することはあまりありませんが、プラットフォームの問題との切り分けのために、アプリケーションの負荷試験について知っておくことは有用です。『[Amazon Web Services 負荷試験入門](https://gihyo.jp/book/2017/978-4-7741-9262-8)』(仲川樽八・森下健 著、2017年、技術評論社) などを一読して、

- 負荷試験のそれぞれの段階でボトルネックを定義する手順
- スレッド数・プロセス数・コンテナ数などを水平スケールして増やした時に、
  - ボトルネックがCPU・メモリ・ネットワークのどれにあるか確認する手順
  - アプリケーション全体の処理能力が同様にスケールするか確認する手順
- データベースなど、垂直スケールして一貫性を保つ範囲の処理能力を向上しなければならないリソースがボトルネックになったことを確認する手順

を知っておきます。
